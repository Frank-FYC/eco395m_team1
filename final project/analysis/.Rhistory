df2 <- merge(df2,compscoreage11,by=c("ChildID"),all.x=TRUE)
df2 <- merge(df2,compscoreage14,by=c("ChildID"),all.x=TRUE)
df2 <- merge(df2,compscoreage18,by=c("ChildID"),all.x=TRUE)
head(df2)
df2 <- unique(df2)
compscoreage6 <- rbind(
compscorefunc(1986,"ChildID","Test_Pct86","6"),
compscorefunc(1988,"ChildID","Test_Pct88","6"),
compscorefunc(1990,"ChildID","Test_Pct90","6"),
compscorefunc(1992,"ChildID","Test_Pct92","6"),
compscorefunc(1994,"ChildID","Test_Pct94","6"),
compscorefunc(1996,"ChildID","Test_Pct96","6"),
compscorefunc(1998,"ChildID","Test_Pct98","6"),
compscorefunc(2002,"ChildID","Test_Pct100","6"),
compscorefunc(2002,"ChildID","Test_Pct102","6"),
compscorefunc(2004,"ChildID","Test_Pct104","6")
) %>% as.data.frame() %>% unique()
compscoreage11 <- rbind(
compscorefunc(1986,"ChildID","Test_Pct86","11"),
compscorefunc(1988,"ChildID","Test_Pct88","11"),
compscorefunc(1990,"ChildID","Test_Pct90","11"),
compscorefunc(1992,"ChildID","Test_Pct92","11"),
compscorefunc(1994,"ChildID","Test_Pct94","11"),
compscorefunc(1996,"ChildID","Test_Pct96","11"),
compscorefunc(1998,"ChildID","Test_Pct98","11"),
compscorefunc(2002,"ChildID","Test_Pct100","11"),
compscorefunc(2002,"ChildID","Test_Pct102","11"),
compscorefunc(2004,"ChildID","Test_Pct104","11")
) %>% as.data.frame() %>% unique()
compscoreage18 <- rbind(
compscorefunc(1986,"ChildID","Test_Pct86","18"),
compscorefunc(1988,"ChildID","Test_Pct88","18"),
compscorefunc(1990,"ChildID","Test_Pct90","18"),
compscorefunc(1992,"ChildID","Test_Pct92","18"),
compscorefunc(1994,"ChildID","Test_Pct94","18"),
compscorefunc(1996,"ChildID","Test_Pct96","18"),
compscorefunc(1998,"ChildID","Test_Pct98","18"),
compscorefunc(2002,"ChildID","Test_Pct100","18"),
compscorefunc(2002,"ChildID","Test_Pct102","18"),
compscorefunc(2004,"ChildID","Test_Pct104","18")
) %>% as.data.frame() %>% unique()
compscoreage6 <- rbind(
compscorefunc(1986,"ChildID","Test_Pct86","6"),
compscorefunc(1988,"ChildID","Test_Pct88","6"),
compscorefunc(1990,"ChildID","Test_Pct90","6"),
compscorefunc(1992,"ChildID","Test_Pct92","6"),
compscorefunc(1994,"ChildID","Test_Pct94","6"),
compscorefunc(1996,"ChildID","Test_Pct96","6"),
compscorefunc(1998,"ChildID","Test_Pct98","6"),
compscorefunc(2002,"ChildID","Test_Pct100","6"),
compscorefunc(2002,"ChildID","Test_Pct102","6"),
compscorefunc(2004,"ChildID","Test_Pct104","6")
) %>% as.data.frame() %>% unique()
names(compscoreage6) <- c("ChildID","compscoreage6")
compscoreage11 <- rbind(
compscorefunc(1986,"ChildID","Test_Pct86","11"),
compscorefunc(1988,"ChildID","Test_Pct88","11"),
compscorefunc(1990,"ChildID","Test_Pct90","11"),
compscorefunc(1992,"ChildID","Test_Pct92","11"),
compscorefunc(1994,"ChildID","Test_Pct94","11"),
compscorefunc(1996,"ChildID","Test_Pct96","11"),
compscorefunc(1998,"ChildID","Test_Pct98","11"),
compscorefunc(2002,"ChildID","Test_Pct100","11"),
compscorefunc(2002,"ChildID","Test_Pct102","11"),
compscorefunc(2004,"ChildID","Test_Pct104","11")
) %>% as.data.frame() %>% unique()
names(compscoreage11) <- c("ChildID","compscoreage11")
compscoreage14 <- rbind(
compscorefunc(1986,"ChildID","Test_Pct86","14"),
compscorefunc(1988,"ChildID","Test_Pct88","14"),
compscorefunc(1990,"ChildID","Test_Pct90","14"),
compscorefunc(1992,"ChildID","Test_Pct92","14"),
compscorefunc(1994,"ChildID","Test_Pct94","14"),
compscorefunc(1996,"ChildID","Test_Pct96","14"),
compscorefunc(1998,"ChildID","Test_Pct98","14"),
compscorefunc(2002,"ChildID","Test_Pct100","14"),
compscorefunc(2002,"ChildID","Test_Pct102","14"),
compscorefunc(2004,"ChildID","Test_Pct104","14")
) %>% as.data.frame() %>% unique()
names(compscoreage14) <- c("ChildID","compscoreage14")
compscoreage18 <- rbind(
compscorefunc(1986,"ChildID","Test_Pct86","18"),
compscorefunc(1988,"ChildID","Test_Pct88","18"),
compscorefunc(1990,"ChildID","Test_Pct90","18"),
compscorefunc(1992,"ChildID","Test_Pct92","18"),
compscorefunc(1994,"ChildID","Test_Pct94","18"),
compscorefunc(1996,"ChildID","Test_Pct96","18"),
compscorefunc(1998,"ChildID","Test_Pct98","18"),
compscorefunc(2002,"ChildID","Test_Pct100","18"),
compscorefunc(2002,"ChildID","Test_Pct102","18"),
compscorefunc(2004,"ChildID","Test_Pct104","18")
) %>% as.data.frame() %>% unique()
names(compscoreage18) <- c("ChildID","compscoreage18")
df2 <- merge(df,compscoreage6,by=c("ChildID"),all.x=TRUE)
df2 <- merge(df2,compscoreage11,by=c("ChildID"),all.x=TRUE)
df2 <- merge(df2,compscoreage14,by=c("ChildID"),all.x=TRUE)
df2 <- merge(df2,compscoreage18,by=c("ChildID"),all.x=TRUE)
df2 <- unique(df2)
view(df2[,"compscoreage6"])
view(df2[,c("ChildID","compscoreage6")])
compscoreage6
view(df2[,c("ChildID","compscoreage6","hsgrad")])
df2 <- merge(df,compscoreage6,by=c("ChildID"),all.x=TRUE)
unique(df2)
df2 <- unique(df2)
df2 <- merge(df,compscoreage6,by=c("ChildID"),all.x=TRUE)
view(df2[,1:10)])
view(df2[,c(1:10)])
test <- merge(compscoreage6,compscoreage11,all.x=TRUE)
test <- merge(compscoreage6,compscoreage11,all=TRUE)
View(test)
duplicate(test)
duplicates(test)
duplicated(test)
test2 <- duplicated(test2)
test2 <- duplicated(test)
view(test2)
test <- merge(compscoreage6,unique(compscoreage11))
test <- merge(compscoreage6,unique(compscoreage11),by="ChildID")
unique(compscoreage11)
View(compscoreage11)
View(compscoreage6)
df2 <- merge(df,compscoreage6,by="ChildID",all.x=TRUE)
df2 <- unique(df2)
df2 <- merge(df,compscoreage6,by="ChildID",all.y=TRUE)
df_test <- unique(df)
compscoreage6 <- rbind(
compscorefunc(1986,"ChildID","Test_Pct86","6"),
compscorefunc(1988,"ChildID","Test_Pct88","6"),
compscorefunc(1990,"ChildID","Test_Pct90","6"),
compscorefunc(1992,"ChildID","Test_Pct92","6"),
compscorefunc(1994,"ChildID","Test_Pct94","6"),
compscorefunc(1996,"ChildID","Test_Pct96","6"),
compscorefunc(1998,"ChildID","Test_Pct98","6"),
compscorefunc(2002,"ChildID","Test_Pct100","6"),
compscorefunc(2002,"ChildID","Test_Pct102","6"),
compscorefunc(2004,"ChildID","Test_Pct104","6")
) %>% as.data.frame() %>% unique()
View(compscoreage6)
compscoreage6 <- rbind(
compscorefunc(1986,"ChildID","Test_Pct86","6"),
compscorefunc(1988,"ChildID","Test_Pct88","6"),
compscorefunc(1990,"ChildID","Test_Pct90","6"),
compscorefunc(1992,"ChildID","Test_Pct92","6"),
compscorefunc(1994,"ChildID","Test_Pct94","6"),
compscorefunc(1996,"ChildID","Test_Pct96","6"),
compscorefunc(1998,"ChildID","Test_Pct98","6"),
compscorefunc(2002,"ChildID","Test_Pct100","6"),
compscorefunc(2002,"ChildID","Test_Pct102","6"),
compscorefunc(2004,"ChildID","Test_Pct104","6")
) %>% as.data.frame() %>% unique()
names(compscoreage6) <- c("ChildID","compscoreage6")
View(compscoreage6)
#final dataset processing
library(tidyverse)
library(readstata13)
library(matrixStats)
df <- read.dta13("../data/deming_final_data.dta")
# frank's contribution
df$mentaldisability <- ifelse(
rowMaxs(
as.matrix(
select(df,Retard86:Retard100)
)
,na.rm = TRUE)
>0,1,0)
df$somecollege <- ifelse(
rowMaxs(
as.matrix(
select(df,HighGrade_Compl94:HighGrade_Compl104)
)
,na.rm = TRUE)
>=12,1,0)
df$hsgrad <- ifelse(
rowMaxs(
as.matrix(
select(df,HighGrade_Compl94:HighGrade_Compl104)
)
,na.rm = TRUE)
>=12,1,0)
df$learndisability <- ifelse(
rowMaxs(
as.matrix(
select(df,LD86:LD94)
)
,na.rm = TRUE)
>0,1,0)
df$repeatgrade <- ifelse(
rowMaxs(
as.matrix(
select(df,Repeat88:Repeat104)
)
,na.rm = TRUE)
>0,1,0)
#calculate age of child at year
calc_age <- function(currentyear,childyear){
currentyear-childyear
}
df$childage1986 <- calc_age(1986,df$DOB_Yr_Child)
df$childage1988 <- calc_age(1988,df$DOB_Yr_Child)
df$childage1990 <- calc_age(1990,df$DOB_Yr_Child)
df$childage1992 <- calc_age(1992,df$DOB_Yr_Child)
df$childage1994 <- calc_age(1994,df$DOB_Yr_Child)
df$childage1996 <- calc_age(1996,df$DOB_Yr_Child)
df$childage1998 <- calc_age(1998,df$DOB_Yr_Child)
df$childage2000 <- calc_age(2000,df$DOB_Yr_Child)
df$childage2002 <- calc_age(2002,df$DOB_Yr_Child)
df$childage2004 <- calc_age(2004,df$DOB_Yr_Child)
compscorefunc <- function(year,column1,column2,age1){
df_comscorefunc <- subset(df,calc_age(year,df$DOB_Yr_Child)==age1)
df_comscorefunc_result <- cbind(df_comscorefunc[,column1],df_comscorefunc[,column2])
}
compscoreage6 <- rbind(
compscorefunc(1986,"ChildID","Test_Pct86","6"),
compscorefunc(1988,"ChildID","Test_Pct88","6"),
compscorefunc(1990,"ChildID","Test_Pct90","6"),
compscorefunc(1992,"ChildID","Test_Pct92","6"),
compscorefunc(1994,"ChildID","Test_Pct94","6"),
compscorefunc(1996,"ChildID","Test_Pct96","6"),
compscorefunc(1998,"ChildID","Test_Pct98","6"),
compscorefunc(2002,"ChildID","Test_Pct100","6"),
compscorefunc(2002,"ChildID","Test_Pct102","6"),
compscorefunc(2004,"ChildID","Test_Pct104","6")
) %>% as.data.frame() %>% unique()
names(compscoreage6) <- c("ChildID","compscoreage6")
compscoreage11 <- rbind(
compscorefunc(1986,"ChildID","Test_Pct86","11"),
compscorefunc(1988,"ChildID","Test_Pct88","11"),
compscorefunc(1990,"ChildID","Test_Pct90","11"),
compscorefunc(1992,"ChildID","Test_Pct92","11"),
compscorefunc(1994,"ChildID","Test_Pct94","11"),
compscorefunc(1996,"ChildID","Test_Pct96","11"),
compscorefunc(1998,"ChildID","Test_Pct98","11"),
compscorefunc(2002,"ChildID","Test_Pct100","11"),
compscorefunc(2002,"ChildID","Test_Pct102","11"),
compscorefunc(2004,"ChildID","Test_Pct104","11")
) %>% as.data.frame() %>% unique()
names(compscoreage11) <- c("ChildID","compscoreage11")
compscoreage14 <- rbind(
compscorefunc(1986,"ChildID","Test_Pct86","14"),
compscorefunc(1988,"ChildID","Test_Pct88","14"),
compscorefunc(1990,"ChildID","Test_Pct90","14"),
compscorefunc(1992,"ChildID","Test_Pct92","14"),
compscorefunc(1994,"ChildID","Test_Pct94","14"),
compscorefunc(1996,"ChildID","Test_Pct96","14"),
compscorefunc(1998,"ChildID","Test_Pct98","14"),
compscorefunc(2002,"ChildID","Test_Pct100","14"),
compscorefunc(2002,"ChildID","Test_Pct102","14"),
compscorefunc(2004,"ChildID","Test_Pct104","14")
) %>% as.data.frame() %>% unique()
names(compscoreage14) <- c("ChildID","compscoreage14")
compscoreage18 <- rbind(
compscorefunc(1986,"ChildID","Test_Pct86","18"),
compscorefunc(1988,"ChildID","Test_Pct88","18"),
compscorefunc(1990,"ChildID","Test_Pct90","18"),
compscorefunc(1992,"ChildID","Test_Pct92","18"),
compscorefunc(1994,"ChildID","Test_Pct94","18"),
compscorefunc(1996,"ChildID","Test_Pct96","18"),
compscorefunc(1998,"ChildID","Test_Pct98","18"),
compscorefunc(2002,"ChildID","Test_Pct100","18"),
compscorefunc(2002,"ChildID","Test_Pct102","18"),
compscorefunc(2004,"ChildID","Test_Pct104","18")
) %>% as.data.frame() %>% unique()
names(compscoreage18) <- c("ChildID","compscoreage18")
df2 <- merge(compscoreage6,compscoreage11,by="ChildID",all.x=TRUE)
df2 <- merge(compscoreage6,compscoreage11,by="ChildID",all=TRUE)
View(df2)
df2 <- merge(df2,compscoreage14,by="ChildID",all=TRUE)
df2 <- merge(df2,compscoreage18,by="ChildID",all=TRUE)
View(df2)
#sibdiff <- select((final_data, ifelse(final_data$MotherID ))) # Not working yet
momID <- select(data_Deming_2008_0217, MotherID)
#sibdiff <- select((df, ifelse(df$MotherID ))) # Not working yet
momID <- select(df, MotherID)
Race <- select(df, Hispanic, Black)
df$Hispanic <- ifelse(df$Race_Child== 1,1,0)
df$Hispanic <- ifelse(df$Race_Child== 1,1,0)
df$Black <-ifelse(df$Race_Child == 2,1, 0)
Male <-subset(df, df$Sex_Child == 1)
df$learndisability <- ifelse(
rowMaxs(
as.matrix(
select(df,LD86:LD94)
)
,na.rm = TRUE)
>0,1,0)
view(df[,"learndisability"])
summary(df$learndisability)
finaldataset <- c()
finaldataset <- as.data.frame()
finaldataset <- as.data.frame()
# from the original datasets
finaldataset <- df[,c("ChildID")]
# from the original datasets
finaldataset <- df[,c("ChildID","MotherID")]
# from the original datasets
finaldataset <- df[,c("ChildID","MotherID","Hispanic")]
# from the original datasets
finaldataset <- df[,c("ChildID","MotherID","Hispanic","Black","Male","FirstBorn","LogInc_0to3",
"MothEd","Father_HH_0to3","PPVTat3","logBW","Repeat","HSGrad","HSGrad_GED",
"someCollAtt","Idle","PoorHealth","Age_Moth_Birth","Age_1stHS88","Age_1stHS90",
"Age_1stHS92","Age_1stHS94","Age_1stHS96","Age_1stHS98","Age_1stHS100","Age_1stHS102",
"Age_1stHS104","BirthWeight"
)]
# from the original datasets
finaldataset <- df[,c("ChildID","MotherID","Hispanic","Black")],"Male","FirstBorn","LogInc_0to3",
"MothEd","Father_HH_0to3","PPVTat3","logBW","Repeat","HSGrad","HSGrad_GED",
"someCollAtt","Idle","PoorHealth","Age_Moth_Birth","Age_1stHS88","Age_1stHS90",
"Age_1stHS92","Age_1stHS94","Age_1stHS96","Age_1stHS98","Age_1stHS100","Age_1stHS102",
"Age_1stHS104","BirthWeight"
finaldataset <- df[,c("ChildID","MotherID","Hispanic","Black")]
finaldataset <- df[,c("ChildID","MotherID","Hispanic","Black","Male")]
finaldataset <- df[,c("ChildID","MotherID","Hispanic","Black","Male","FirstBorn","LogInc_0to3")]
finaldataset <- df[,c("ChildID","MotherID","Hispanic","Black","Male","FirstBorn","LogInc_0to3",
"MothEd","Father_HH_0to3","PPVTat3","logBW","Repeat","HSGrad","HSGrad_GED")]
finaldataset <- df[,c("ChildID","MotherID","Hispanic","Black","Male","FirstBorn","LogInc_0to3",
"MothEd")]
# from the original datasets
finaldataset <- df[,c("ChildID","MotherID","Hispanic","Black","Male","FirstBorn","LogInc_0to3",
"MothED","Father_HH_0to3","PPVTat3","logBW","Repeat","HSGrad","HSGrad_GED",
"someCollAtt","Idle","PoorHealth","Age_Moth_Birth","Age_1stHS88","Age_1stHS90",
"Age_1stHS92","Age_1stHS94","Age_1stHS96","Age_1stHS98","Age_1stHS100","Age_1stHS102",
"Age_1stHS104","BirthWeight"
)]
finaldataset$mentaldisability <- ifelse(
rowMaxs(
as.matrix(
select(df,Retard86:Retard100)
)
,na.rm = TRUE)
>0,1,0)
finaldataset <- df[,c("ChildID","MotherID","Hispanic","Black","Male","FirstBorn","LogInc_0to3",
"MothED","Father_HH_0to3","PPVTat3","logBW","Repeat","HSGrad","HSGrad_GED",
"someCollAtt","Idle","PoorHealth","Age_Moth_Birth","Age_1stHS88","Age_1stHS90",
"Age_1stHS92","Age_1stHS94","Age_1stHS96","Age_1stHS98","Age_1stHS100","Age_1stHS102",
"Age_1stHS104","BirthWeight"
)]
# frank's contribution
finaldataset$mentaldisability <- ifelse(
rowMaxs(
as.matrix(
select(df,Retard86:Retard100)
)
,na.rm = TRUE)
>0,1,0)
finaldataset$somecollege <- ifelse(
rowMaxs(
as.matrix(
select(df,HighGrade_Compl94:HighGrade_Compl104)
)
,na.rm = TRUE)
>=12,1,0)
finaldataset$hsgrad <- ifelse(
rowMaxs(
as.matrix(
select(df,HighGrade_Compl94:HighGrade_Compl104)
)
,na.rm = TRUE)
>=12,1,0)
finaldataset$learndisability <- ifelse(
rowMaxs(
as.matrix(
select(df,LD86:LD94)
)
,na.rm = TRUE)
>0,1,0)
finaldataset$repeatgrade <- ifelse(
rowMaxs(
as.matrix(
select(df,Repeat88:Repeat104)
)
,na.rm = TRUE)
>0,1,0)
finaldataset$headstart <- ifelse(
rowMaxs(
as.matrix(
select(df,Ever_HS88:Ever_HS104)
)
,na.rm = TRUE)
>0,1,0)
View(finaldataset)
summary(finaldataset)
compscoreage6to10 <- rbind(
compscorefunc(1986,"ChildID","Test_Pct86","6","10"),
compscorefunc(1988,"ChildID","Test_Pct88","6","10"),
compscorefunc(1990,"ChildID","Test_Pct90","6","10"),
compscorefunc(1992,"ChildID","Test_Pct92","6","10"),
compscorefunc(1994,"ChildID","Test_Pct94","6","10"),
compscorefunc(1996,"ChildID","Test_Pct96","6","10"),
compscorefunc(1998,"ChildID","Test_Pct98","6","10"),
compscorefunc(2002,"ChildID","Test_Pct100","6","10"),
compscorefunc(2002,"ChildID","Test_Pct102","6","10"),
compscorefunc(2004,"ChildID","Test_Pct104","6","10")
) %>% as.data.frame() %>% unique()
names(compscoreage6) <- c("ChildID","compscoreage6")
compscorefunc <- function(year,column1,column2,age1,age2){
df_comscorefunc <- subset(df,calc_age(year,df$DOB_Yr_Child)>=age1&calc_age(year,df$DOB_Yr_Child)<=age2)
df_comscorefunc_result <- cbind(df_comscorefunc[,column1],df_comscorefunc[,column2])
}
compscoreage6to10 <- rbind(
compscorefunc(1986,"ChildID","Test_Pct86","6","10"),
compscorefunc(1988,"ChildID","Test_Pct88","6","10"),
compscorefunc(1990,"ChildID","Test_Pct90","6","10"),
compscorefunc(1992,"ChildID","Test_Pct92","6","10"),
compscorefunc(1994,"ChildID","Test_Pct94","6","10"),
compscorefunc(1996,"ChildID","Test_Pct96","6","10"),
compscorefunc(1998,"ChildID","Test_Pct98","6","10"),
compscorefunc(2002,"ChildID","Test_Pct100","6","10"),
compscorefunc(2002,"ChildID","Test_Pct102","6","10"),
compscorefunc(2004,"ChildID","Test_Pct104","6","10")
) %>% as.data.frame() %>% unique()
names(compscoreage6) <- c("ChildID","compscoreage6")
compscorefunc <- function(year,column1,column2,age1,age2){
df_comscorefunc <<- subset(df,calc_age(year,df$DOB_Yr_Child)>=age1 & calc_age(year,df$DOB_Yr_Child)<=age2)
df_comscorefunc_result <<- cbind(df_comscorefunc[,column1],df_comscorefunc[,column2])
}
compscorefunc(1986,"ChildID","Test_Pct86","6","10")
View(df_comscorefunc)
compscorefunc <- function(year,column1,column2,age1){
df_comscorefunc <- subset(df,calc_age(year,df$DOB_Yr_Child)==age1)
df_comscorefunc_result <- cbind(df_comscorefunc[,column1],df_comscorefunc[,column2])
}
compscoreage6 <- rbind(
compscorefunc(1986,"ChildID","Test_Pct86","6"),
compscorefunc(1988,"ChildID","Test_Pct88","6"),
compscorefunc(1990,"ChildID","Test_Pct90","6"),
compscorefunc(1992,"ChildID","Test_Pct92","6"),
compscorefunc(1994,"ChildID","Test_Pct94","6"),
compscorefunc(1996,"ChildID","Test_Pct96","6"),
compscorefunc(1998,"ChildID","Test_Pct98","6"),
compscorefunc(2002,"ChildID","Test_Pct100","6"),
compscorefunc(2002,"ChildID","Test_Pct102","6"),
compscorefunc(2004,"ChildID","Test_Pct104","6")
) %>% as.data.frame() %>% unique()
names(compscoreage6) <- c("ChildID","compscoreage6")
compscorefunc <- function(year,column1,column2,age1){
df_comscorefunc <- subset(df,calc_age(year,df$DOB_Yr_Child)==age1)
df_comscorefunc_result <- cbind(df_comscorefunc[,column1],df_comscorefunc[,column2])
}
compscoreage6 <- rbind(
compscorefunc(1986,"ChildID","Test_Pct86","6"),
compscorefunc(1988,"ChildID","Test_Pct88","6"),
compscorefunc(1990,"ChildID","Test_Pct90","6"),
compscorefunc(1992,"ChildID","Test_Pct92","6"),
compscorefunc(1994,"ChildID","Test_Pct94","6"),
compscorefunc(1996,"ChildID","Test_Pct96","6"),
compscorefunc(1998,"ChildID","Test_Pct98","6"),
compscorefunc(2002,"ChildID","Test_Pct100","6"),
compscorefunc(2002,"ChildID","Test_Pct102","6"),
compscorefunc(2004,"ChildID","Test_Pct104","6")
) %>% as.data.frame() %>% unique()
names(compscoreage6) <- c("ChildID","compscoreage6")
compscoreage6 <- rbind(
compscorefunc(1986,"ChildID","Test_Pct86","6"),
compscorefunc(1988,"ChildID","Test_Pct88","6"),
compscorefunc(1990,"ChildID","Test_Pct90","6"),
compscorefunc(1992,"ChildID","Test_Pct92","6"),
compscorefunc(1994,"ChildID","Test_Pct94","6"),
compscorefunc(1996,"ChildID","Test_Pct96","6"),
compscorefunc(1998,"ChildID","Test_Pct98","6"),
compscorefunc(2002,"ChildID","Test_Pct100","6"),
compscorefunc(2002,"ChildID","Test_Pct102","6"),
compscorefunc(2004,"ChildID","Test_Pct104","6")
) %>% as.data.frame() %>% unique()
names(compscoreage6) <- c("ChildID","compscoreage6")
compscoreage11 <- rbind(
compscorefunc(1986,"ChildID","Test_Pct86","11"),
compscorefunc(1988,"ChildID","Test_Pct88","11"),
compscorefunc(1990,"ChildID","Test_Pct90","11"),
compscorefunc(1992,"ChildID","Test_Pct92","11"),
compscorefunc(1994,"ChildID","Test_Pct94","11"),
compscorefunc(1996,"ChildID","Test_Pct96","11"),
compscorefunc(1998,"ChildID","Test_Pct98","11"),
compscorefunc(2002,"ChildID","Test_Pct100","11"),
compscorefunc(2002,"ChildID","Test_Pct102","11"),
compscorefunc(2004,"ChildID","Test_Pct104","11")
) %>% as.data.frame() %>% unique()
names(compscoreage11) <- c("ChildID","compscoreage11")
compscoreage14 <- rbind(
compscorefunc(1986,"ChildID","Test_Pct86","14"),
compscorefunc(1988,"ChildID","Test_Pct88","14"),
compscorefunc(1990,"ChildID","Test_Pct90","14"),
compscorefunc(1992,"ChildID","Test_Pct92","14"),
compscorefunc(1994,"ChildID","Test_Pct94","14"),
compscorefunc(1996,"ChildID","Test_Pct96","14"),
compscorefunc(1998,"ChildID","Test_Pct98","14"),
compscorefunc(2002,"ChildID","Test_Pct100","14"),
compscorefunc(2002,"ChildID","Test_Pct102","14"),
compscorefunc(2004,"ChildID","Test_Pct104","14")
) %>% as.data.frame() %>% unique()
names(compscoreage14) <- c("ChildID","compscoreage14")
compscoreage18 <- rbind(
compscorefunc(1986,"ChildID","Test_Pct86","18"),
compscorefunc(1988,"ChildID","Test_Pct88","18"),
compscorefunc(1990,"ChildID","Test_Pct90","18"),
compscorefunc(1992,"ChildID","Test_Pct92","18"),
compscorefunc(1994,"ChildID","Test_Pct94","18"),
compscorefunc(1996,"ChildID","Test_Pct96","18"),
compscorefunc(1998,"ChildID","Test_Pct98","18"),
compscorefunc(2002,"ChildID","Test_Pct100","18"),
compscorefunc(2002,"ChildID","Test_Pct102","18"),
compscorefunc(2004,"ChildID","Test_Pct104","18")
) %>% as.data.frame() %>% unique()
names(compscoreage18) <- c("ChildID","compscoreage18")
test <- merge(compscoreage6,unique(compscoreage11),by="ChildID")
df2 <- merge(compscoreage6,compscoreage11,by="ChildID",all=TRUE)
df2 <- merge(df2,compscoreage14,by="ChildID",all=TRUE)
df2 <- merge(df2,compscoreage18,by="ChildID",all=TRUE)
View(df2)
write.csv(finaldataset, file = "../data/finaldataset.csv",row.names=FALSE)
source('C:/Dropbox/Classes/ECO 395M Data mining and statisical learning/eco395m_team_awesome/final project/analysis/final dataset processing.R', echo=TRUE)
source('C:/Dropbox/Classes/ECO 395M Data mining and statisical learning/eco395m_team_awesome/final project/analysis/final dataset processing.R', echo=TRUE)
